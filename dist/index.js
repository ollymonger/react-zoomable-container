import e,{createContext as n,useContext as t,useState as o,useRef as i}from"react";var c=function(n){var t=n.scale,o=n.position,i=n.children;return e.createElement("div",{style:{transform:"scale(".concat(t,") translate(").concat(o.x,"px, ").concat(o.y,"px)"),transformOrigin:"50% 50%",height:"100%",width:"100%"}},i)},a=function(n){var t=n.handleReset,o=n.info;return e.createElement("div",{style:{position:"absolute",top:0,left:0,zIndex:1e3,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",padding:"1em"}},e.createElement("button",{onClick:t},"Reset"),e.createElement("p",{className:"scaleInfo"},"Scale: ".concat(o.scale.toFixed(2)," | Position: x").concat(o.position.x.toFixed(2),", y").concat(o.position.y.toFixed(2))))},r=300,s=.8,l={x:0,y:0},u=.2,m=.2,p=1.8,d=n({handleReset:function(){},zoomIn:function(){},zoomOut:function(){},info:{scale:0,position:{x:0,y:0}},controlOverrides:{scale:s,position:{x:l.x,y:l.y},lerpTime:r,scaleStep:u,minScale:.2,maxScale:1.8}}),v=function(){return t(d)},f=function(e){var n=e.event,t=e.setScale,o=e.scale,i=e.controlOverrides,c=o-.01*n.deltaY*(i&&i.scaleStep?i.scaleStep:u),a=i&&i.lerpTime?i.lerpTime:r,s=performance.now(),l=function(e){var n=e-s,r=Math.min(n/a,1),u=Math.max(i&&i.minScale?i.minScale:.2,Math.min(i&&i.maxScale?i.maxScale:1.8,o+(c-o)*r));t(u),r<1&&requestAnimationFrame(l)};requestAnimationFrame(l)},h=function(e){var n=e.event,t=e.setPosition,o=e.position,i=e.lerpTime,c=n.pageX-o.x,a=n.pageY-o.y,r=performance.now(),s=function(e){var n=performance.now()-r,s=Math.min(n/i,1),l=y(o.x,e.pageX-c,s),u=y(o.y,e.pageY-a,s);t({x:l,y:u})},l=function(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)},x=function(e){var n=e.event,t=e.setPosition,o=e.position,i=n.touches[0].pageX-o.x,c=n.touches[0].pageY-o.y,a=function(e){var n=e.touches[0].pageX-i,o=e.touches[0].pageY-c;t({x:n,y:o})},r=function(){document.removeEventListener("touchmove",a),document.removeEventListener("touchend",r)};document.addEventListener("touchmove",a),document.addEventListener("touchend",r)},y=function(e,n,t){return e*(1-t)+n*t},S={container:{display:"flex",height:"100%",width:"100%"}};function E(n){var t=n.children,m=n.customControls,p=n.controlOverrides,v=o(p&&p.scale?null==p?void 0:p.scale:s),y=v[0],E=v[1],g=o(p&&p.position?null==p?void 0:p.position:l),L=g[0],O=g[1],T=i(null),w=e.useCallback((function(){E(1),O((null==p?void 0:p.position)||l)}),[]),C=e.useCallback((function(){E(y+(p&&p.scaleStep?null==p?void 0:p.scaleStep:u))}),[y]),P=e.useCallback((function(){E(y-(p&&p.scaleStep?null==p?void 0:p.scaleStep:u))}),[y]);return e.createElement("div",{ref:T,onWheel:function(e){f({event:e,setScale:E,scale:y,controlOverrides:p})},onMouseDown:function(e){h({event:e,setPosition:O,position:L,lerpTime:p&&p.lerpTime?p.lerpTime:r})},onTouchStart:function(e){x({event:e,setPosition:O,position:L})},style:S.container},e.createElement(d.Provider,{value:{handleReset:w,zoomIn:C,zoomOut:P,info:{scale:y,position:L},controlOverrides:p}},m||e.createElement(a,{handleReset:w,info:{scale:y,position:L}}),e.createElement(c,{scale:y,position:L},t)))}export{c as Container,a as Controls,r as DEFAULT_LERP_TIME,p as DEFAULT_MAX_SCALE,m as DEFAULT_MIN_SCALE,l as DEFAULT_POSITION,s as DEFAULT_SCALE,u as DEFAULT_SCALE_STEP,E as ZoomableContainer,d as ZoomableContainerContext,h as onMouseDown,x as onTouchStart,f as onWheel,v as useZoomableContext};
//# sourceMappingURL=index.js.map
