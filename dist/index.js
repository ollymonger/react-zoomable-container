import e,{createContext as t,useContext as n,useState as o,useRef as i}from"react";var c=function(t){var n=t.scale,o=t.position,i=t.children;return e.createElement("div",{style:{transform:"scale(".concat(n,") translate(").concat(o.x,"px, ").concat(o.y,"px)"),transformOrigin:"50% 50%",height:"100%",width:"100%"}},i)},a=function(t){var n=t.handleReset,o=t.info;return e.createElement("div",{style:{position:"absolute",top:0,left:0,zIndex:1e3,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",padding:"1em"}},e.createElement("button",{onClick:n},"Reset"),e.createElement("p",{className:"scaleInfo"},"Scale: ".concat(o.scale.toFixed(2)," | Position: x").concat(o.position.x.toFixed(2),", y").concat(o.position.y.toFixed(2))))},s=300,r=.8,l={x:0,y:0},u=.2,m=.2,p=1.8,d=t({handleReset:function(){},zoomIn:function(){},zoomOut:function(){},info:{scale:0,position:{x:0,y:0}},controlOverrides:{scale:r,position:{x:l.x,y:l.y},lerpTime:s,scaleStep:u,minScale:.2,maxScale:1.8}}),v=function(){return n(d)},f=function(e){var t=e.event,n=e.setScale,o=e.scale,i=e.controlOverrides,c=o-.01*t.deltaY*(i&&i.scaleStep?i.scaleStep:u),a=i&&i.lerpTime?i.lerpTime:s,r=performance.now(),l=function(e){var t=e-r,i=Math.min(t/a,1),s=Math.max(.2,Math.min(1.8,o+(c-o)*i));n(s),i<1&&requestAnimationFrame(l)};requestAnimationFrame(l)},h=function(e){var t=e.event,n=e.setPosition,o=e.position,i=e.lerpTime,c=t.pageX-o.x,a=t.pageY-o.y,s=function(e){var t=Math.min(100/i,1),s=y(o.x,e.pageX-c,t),r=y(o.y,e.pageY-a,t);n({x:s,y:r})},r=function(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",r)},x=function(e){var t=e.event,n=e.setPosition,o=e.position,i=t.touches[0].pageX-o.x,c=t.touches[0].pageY-o.y,a=function(e){var t=e.touches[0].pageX-i,o=e.touches[0].pageY-c;n({x:t,y:o})},s=function(){document.removeEventListener("touchmove",a),document.removeEventListener("touchend",s)};document.addEventListener("touchmove",a),document.addEventListener("touchend",s)},y=function(e,t,n){return e*(1-n)+t*n},E={container:{display:"flex",height:"100%",width:"100%"}};function g(t){var n=t.children,m=t.customControls,p=t.controlOverrides,v=o(p&&p.scale?null==p?void 0:p.scale:r),y=v[0],g=v[1],S=o(p&&p.position?null==p?void 0:p.position:l),L=S[0],O=S[1],T=i(null),C=e.useCallback((function(){g(1),O((null==p?void 0:p.position)||l)}),[]),P=e.useCallback((function(){g(y+(p&&p.scaleStep?null==p?void 0:p.scaleStep:u))}),[y]),b=e.useCallback((function(){g(y-(p&&p.scaleStep?null==p?void 0:p.scaleStep:u))}),[y]);return e.createElement("div",{ref:T,onWheel:function(e){f({event:e,setScale:g,scale:y,controlOverrides:p})},onMouseDown:function(e){h({event:e,setPosition:O,position:L,lerpTime:p&&p.lerpTime?p.lerpTime:s})},onTouchStart:function(e){x({event:e,setPosition:O,position:L})},style:E.container},e.createElement(d.Provider,{value:{handleReset:C,zoomIn:P,zoomOut:b,info:{scale:y,position:L},controlOverrides:p}},m||e.createElement(a,{handleReset:C,info:{scale:y,position:L}}),e.createElement(c,{scale:y,position:L},n)))}export{c as Container,a as Controls,s as DEFAULT_LERP_TIME,p as DEFAULT_MAX_SCALE,m as DEFAULT_MIN_SCALE,l as DEFAULT_POSITION,r as DEFAULT_SCALE,u as DEFAULT_SCALE_STEP,g as ZoomableContainer,d as ZoomableContainerContext,h as onMouseDown,x as onTouchStart,f as onWheel,v as useZoomableContext};
//# sourceMappingURL=index.js.map
