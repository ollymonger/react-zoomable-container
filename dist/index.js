import e,{createContext as t,useContext as n,useState as o,useRef as i}from"react";var a=function(t){var n=t.scale,o=t.position,i=t.children;return e.createElement("div",{style:{transform:"scale(".concat(n,") translate(").concat(o.x,"px, ").concat(o.y,"px)"),transformOrigin:"50% 50%",height:"100%",width:"100%"}},i)},c=function(t){var n=t.handleReset,o=t.info;return e.createElement("div",{style:{position:"absolute",top:0,left:0,zIndex:1e3,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",padding:"1em"}},e.createElement("button",{onClick:n},"Reset"),e.createElement("p",{className:"scaleInfo"},"Scale: ".concat(o.scale.toFixed(2)," | Position: x").concat(o.position.x.toFixed(2),", y").concat(o.position.y.toFixed(2))))},s=300,l=.8,u={x:0,y:0},r=.2,m=.2,p=1.8,d=t({handleReset:function(){},zoomIn:function(){},zoomOut:function(){},info:{scale:0,position:{x:0,y:0}},defaultValues:{scale:l,position:{x:u.x,y:u.y},lerpTime:s,scaleStep:r,minScale:.2,maxScale:1.8}}),f=function(){return n(d)},v=function(e){var t=e.event,n=e.setScale,o=e.scale,i=e.defaultValues,a=o-.01*t.deltaY*(i&&i.scaleStep?i.scaleStep:r),c=i&&i.lerpTime?i.lerpTime:s,l=performance.now(),u=function(e){var t=e-l,i=Math.min(t/c,1),s=Math.max(.2,Math.min(1.8,o+(a-o)*i));n(s),i<1&&requestAnimationFrame(u)};requestAnimationFrame(u)},h=function(e){var t=e.event,n=e.setPosition,o=e.position,i=e.lerpTime,a=t.pageX-o.x,c=t.pageY-o.y,s=function(e){var t=Math.min(100/i,1),s=y(o.x,e.pageX-a,t),l=y(o.y,e.pageY-c,t);n({x:s,y:l})},l=function(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)},x=function(e){var t=e.event,n=e.setPosition,o=e.position,i=t.touches[0].pageX-o.x,a=t.touches[0].pageY-o.y,c=function(e){var t=e.touches[0].pageX-i,o=e.touches[0].pageY-a;n({x:t,y:o})},s=function(){document.removeEventListener("touchmove",c),document.removeEventListener("touchend",s)};document.addEventListener("touchmove",c),document.addEventListener("touchend",s)},y=function(e,t,n){return e*(1-n)+t*n},E={container:{display:"flex",height:"100%",width:"100%"}};function g(t){var n=t.children,m=t.customControls,p=t.defaultValues,f=o(p&&p.scale?null==p?void 0:p.scale:l),y=f[0],g=f[1],S=o(p&&p.position?null==p?void 0:p.position:u),L=S[0],T=S[1],C=i(null),P=e.useCallback((function(){g(1),T((null==p?void 0:p.position)||u)}),[]),b=e.useCallback((function(){g(y+(p&&p.scaleStep?null==p?void 0:p.scaleStep:r))}),[y]),w=e.useCallback((function(){g(y-(p&&p.scaleStep?null==p?void 0:p.scaleStep:r))}),[y]);return e.createElement("div",{ref:C,onWheel:function(e){v({event:e,setScale:g,scale:y,defaultValues:p})},onMouseDown:function(e){h({event:e,setPosition:T,position:L,lerpTime:p&&p.lerpTime?p.lerpTime:s})},onTouchStart:function(e){x({event:e,setPosition:T,position:L})},style:E.container},e.createElement(d.Provider,{value:{handleReset:P,zoomIn:b,zoomOut:w,info:{scale:y,position:L},defaultValues:p}},m||e.createElement(c,{handleReset:P,info:{scale:y,position:L}}),e.createElement(a,{scale:y,position:L},n)))}export{a as Container,c as Controls,s as DEFAULT_LERP_TIME,p as DEFAULT_MAX_SCALE,m as DEFAULT_MIN_SCALE,u as DEFAULT_POSITION,l as DEFAULT_SCALE,r as DEFAULT_SCALE_STEP,g as ZoomableContainer,d as ZoomableContainerContext,h as onMouseDown,x as onTouchStart,v as onWheel,f as useZoomableContext};
//# sourceMappingURL=index.js.map
